"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[917],{3917:(De,U,c)=>{c.r(U),c.d(U,{NotesModule:()=>Ne});var q=c(3423),A=c(1095),j=c(7539),T=c(2238),y=c(8295),S=c(6627),I=c(9983),F=c(3935),k=c(2458),V=c(521),m=c(5572),d=c(8583),t=c(7716),f=c(9490),W=c(6461),g=c(9765),lt=c(2759),dt=c(6682),x=c(5435),v=c(8002),_t=c(7393);function z(n){return i=>i.lift(new pt(n))}class pt{constructor(i){this.value=i}call(i,e){return e.subscribe(new gt(i,this.value))}}class gt extends _t.L{constructor(i,e){super(i),this.value=e}_next(i){this.destination.next(this.value)}}var u=c(6782),G=c(7519),J=c(5257),P=c(9761),O=c(4395),h=c(7238),ut=c(6237),X=c(4564),mt=c(946);const B=["*"];function ht(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){return t.CHM(e),t.oxw()._onBackdropClicked()}),t.qZA()}if(2&n){const e=t.oxw();t.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function ft(n,i){1&n&&(t.TgZ(0,"mat-drawer-content"),t.Hsn(1,2),t.qZA())}const xt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],vt=["mat-drawer","mat-drawer-content","*"],tt={transformDrawer:(0,h.X$)("transform",[(0,h.SB)("open, open-instant",(0,h.oB)({transform:"none",visibility:"visible"})),(0,h.SB)("void",(0,h.oB)({"box-shadow":"none",visibility:"hidden"})),(0,h.eR)("void => open-instant",(0,h.jt)("0ms")),(0,h.eR)("void <=> open, open-instant => void",(0,h.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},yt=new t.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),L=new t.OlP("MAT_DRAWER_CONTAINER");let Z=(()=>{class n extends m.PQ{constructor(e,o,s,a,r){super(s,a,r),this._changeDetectorRef=e,this._container=o}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>H)),t.Y36(t.SBq),t.Y36(m.mF),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,o){2&e&&t.Udp("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},features:[t.qOj],ngContentSelectors:B,decls:1,vars:0,template:function(e,o){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),R=(()=>{class n{constructor(e,o,s,a,r,p,N){this._elementRef=e,this._focusTrapFactory=o,this._focusMonitor=s,this._platform=a,this._ngZone=r,this._doc=p,this._container=N,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new g.xQ,this._animationEnd=new g.xQ,this._animationState="void",this.openedChange=new t.vpe(!0),this._openedStream=this.openedChange.pipe((0,x.h)(l=>l),(0,v.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,x.h)(l=>l.fromState!==l.toState&&0===l.toState.indexOf("open")),z(void 0)),this._closedStream=this.openedChange.pipe((0,x.h)(l=>!l),(0,v.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,x.h)(l=>l.fromState!==l.toState&&"void"===l.toState),z(void 0)),this._destroyed=new g.xQ,this.onPositionChanged=new t.vpe,this._modeChanged=new g.xQ,this.openedChange.subscribe(l=>{l?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{(0,lt.R)(this._elementRef.nativeElement,"keydown").pipe((0,x.h)(l=>l.keyCode===W.hY&&!this.disableClose&&!(0,W.Vb)(l)),(0,u.R)(this._destroyed)).subscribe(l=>this._ngZone.run(()=>{this.close(),l.stopPropagation(),l.preventDefault()}))}),this._animationEnd.pipe((0,G.x)((l,D)=>l.fromState===D.fromState&&l.toState===D.toState)).subscribe(l=>{const{fromState:D,toState:ct}=l;(0===ct.indexOf("open")&&"void"===D||"void"===ct&&0===D.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,f.Ig)(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=(0,f.Ig)(e)}get opened(){return this._opened}set opened(e){this.toggle((0,f.Ig)(e))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(e=>{!e&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const o=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!o&&this._elementRef.nativeElement.contains(o)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,o){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),o)}_setOpen(e,o,s="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=s):(this._animationState="void",o&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe((0,J.q)(1)).subscribe(r=>a(r?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(X.qV),t.Y36(X.tE),t.Y36(V.t4),t.Y36(t.R0b),t.Y36(d.K0,8),t.Y36(L,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,o){1&e&&t.WFA("@transform.start",function(a){return o._animationStartListener(a)})("@transform.done",function(a){return o._animationDoneListener(a)}),2&e&&(t.uIk("align",null),t.d8E("@transform",o._animationState),t.ekj("mat-drawer-end","end"===o.position)("mat-drawer-over","over"===o.mode)("mat-drawer-push","push"===o.mode)("mat-drawer-side","side"===o.mode)("mat-drawer-opened",o.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:B,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},directives:[m.PQ],encapsulation:2,data:{animation:[tt.transformDrawer]},changeDetection:0}),n})(),H=(()=>{class n{constructor(e,o,s,a,r,p=!1,N){this._dir=e,this._element=o,this._ngZone=s,this._changeDetectorRef=a,this._animationMode=N,this._drawers=new t.n_E,this.backdropClick=new t.vpe,this._destroyed=new g.xQ,this._doCheckSubject=new g.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new g.xQ,e&&e.change.pipe((0,u.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),r.change().pipe((0,u.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=p}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,f.Ig)(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,f.Ig)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,P.O)(this._allDrawers),(0,u.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(o=>!o._container||o._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,P.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,O.b)(10),(0,u.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,o=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();e+=s,o-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)o+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();o+=s,e-=s}e=e||null,o=o||null,(e!==this._contentMargins.left||o!==this._contentMargins.right)&&(this._contentMargins={left:e,right:o},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,x.h)(o=>o.fromState!==o.toState),(0,u.R)(this._drawers.changes)).subscribe(o=>{"open-instant"!==o.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,u.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe((0,u.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,J.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,u.R)((0,dt.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const o=this._element.nativeElement.classList,s="mat-drawer-container-has-open";e?o.add(s):o.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(mt.Is,8),t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(m.rL),t.Y36(yt),t.Y36(ut.Qb,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,o,s){if(1&e&&(t.Suo(s,Z,5),t.Suo(s,R,5)),2&e){let a;t.iGM(a=t.CRH())&&(o._content=a.first),t.iGM(a=t.CRH())&&(o._allDrawers=a)}},viewQuery:function(e,o){if(1&e&&t.Gf(Z,5),2&e){let s;t.iGM(s=t.CRH())&&(o._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,o){2&e&&t.ekj("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[t._Bn([{provide:L,useExisting:n}])],ngContentSelectors:vt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,o){1&e&&(t.F$t(xt),t.YNc(0,ht,1,2,"div",0),t.Hsn(1),t.Hsn(2,1),t.YNc(3,ft,2,0,"mat-drawer-content",1)),2&e&&(t.Q6J("ngIf",o.hasBackdrop),t.xp6(3),t.Q6J("ngIf",!o._content))},directives:[d.O5,Z],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),n})(),Nt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.ez,k.BQ,V.ud,m.ZD],m.ZD,k.BQ]}),n})();var Dt=c(8288),nt=c(1812);function At(n,i){1&n&&t.GkF(0)}const St=function(n){return{$implicit:n}};let It=(()=>{class n{constructor(e){this._fuseMediaWatcherService=e,this.items=[],this.distributedColumns=[]}ngOnChanges(e){"columns"in e&&this._distributeItems(),"items"in e&&this._distributeItems()}ngAfterViewInit(){this._distributeItems()}_distributeItems(){if(0!==this.items.length){this.distributedColumns=Array.from(Array(this.columns),e=>({items:[]}));for(let e=0;e<this.items.length;e++)this.distributedColumns[e%this.columns].items.push(this.items[e])}else this.distributedColumns=[]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(nt.T))},n.\u0275cmp=t.Xpm({type:n,selectors:[["fuse-masonry"]],inputs:{columnsTemplate:"columnsTemplate",columns:"columns",items:"items"},exportAs:["fuseMasonry"],features:[t.TTD],decls:2,vars:4,consts:[[1,"flex"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,At,1,0,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngTemplateOutlet",o.columnsTemplate)("ngTemplateOutletContext",t.VKq(2,St,o.distributedColumns)))},directives:[d.tP],styles:[""],encapsulation:2,data:{animation:Dt.L}}),n})(),Ft=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.ez]]}),n})();var Bt=c(4466);let Qt=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["notes"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"router-outlet")},directives:[q.lC],encapsulation:2,changeDetection:0}),n})();var Q,M=c(6215),Jt=c(739),b=c(3190),ot=c(5917),it=c(7323),st=c(1841),Ot=c(7574),Lt=c(205),C=c(3342),at=c(1177),Rt=new Uint8Array(16);function Ht(){if(!Q&&!(Q="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q(Rt)}const Et=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,$t=function(n){return"string"==typeof n&&Et.test(n)};for(var _=[],E=0;E<256;++E)_.push((E+256).toString(16).substr(1));const Vt=function(n,i,e){var o=(n=n||{}).random||(n.rng||Ht)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,i){e=e||0;for(var s=0;s<16;++s)i[e+s]=o[s];return i}return function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(_[n[i+0]]+_[n[i+1]]+_[n[i+2]]+_[n[i+3]]+"-"+_[n[i+4]]+_[n[i+5]]+"-"+_[n[i+6]]+_[n[i+7]]+"-"+_[n[i+8]]+_[n[i+9]]+"-"+_[n[i+10]]+_[n[i+11]]+_[n[i+12]]+_[n[i+13]]+_[n[i+14]]+_[n[i+15]]).toLowerCase();if(!$t(e))throw TypeError("Stringified UUID is invalid");return e}(o)};let Y=(()=>{class n{constructor(e){this._httpClient=e,this._labels=new M.X(null),this._note=new M.X(null),this._notes=new M.X(null)}get labels$(){return this._labels.asObservable()}get notes$(){return this._notes.asObservable()}get note$(){return this._note.asObservable()}getLabels(){let e={headers:this.getHttpHeaders()};return this._httpClient.get("http://localhost:8080/api/v1/apps/notes/labels",e).pipe((0,C.b)(o=>{this._labels.next(o)}))}addLabel(e){let o={headers:this.getHttpHeaders()};return this._httpClient.post("http://localhost:8080/api/v1/apps/notes/labels",{title:e},o).pipe((0,C.b)(s=>{console.log(s),this._labels.next(s),console.log("end")}))}updateLabel(e){let o={headers:this.getHttpHeaders()};return this._httpClient.patch("http://localhost:8080/api/v1/apps/notes/labels",{label:e},o).pipe((0,C.b)(s=>{this.getNotes().subscribe(),this._labels.next(s)}))}deleteLabel(e){return this._httpClient.delete("http://localhost:8080/api/v1/apps/notes/labels",{params:{id:e,username:btoa(localStorage.getItem("username")),accessToken:btoa(localStorage.getItem("accessToken"))}}).pipe((0,C.b)(o=>{if(null===o)return alert("Label is used. Can't delete an active label"),new Ot.y;this.getNotes().subscribe(),this._labels.next(o)}))}getNotes(){let e={headers:this.getHttpHeaders()};return this._httpClient.get("http://localhost:8080/api/v1/apps/notes/all",e).pipe((0,C.b)(o=>{console.log(o),this._notes.next(o)}))}getNoteById(e){return this._notes.pipe((0,J.q)(1),(0,v.U)(o=>{const s=o.find(a=>a.id===e)||null;return this._note.next(s),s}),(0,b.w)(o=>o?(0,ot.of)(o):(0,Lt._)("Could not find the note with id of "+e+"!")))}addTask(e,o){let s={headers:this.getHttpHeaders()};return this._httpClient.post("http://localhost:8080/api/v1/apps/notes/tasks",{note:e,task:o},s).pipe((0,b.w)(()=>this.getNotes().pipe((0,b.w)(()=>this.getNoteById(e.id)))))}createNote(e){let o={headers:this.getHttpHeaders()};return e.id=Vt(),console.log(JSON.stringify(e)),this._httpClient.post("http://localhost:8080/api/v1/apps/notes",{note:e},o).pipe((0,C.b)(s=>{console.log("Tap :: "+JSON.stringify(s)),"Error"===s.STATUS?alert(s.MESSAGE):"Success"===s.STATUS?console.log(s.MESSAGE):alert("Something went wrong")}),(0,b.w)(s=>this.getNotes().pipe((0,b.w)(()=>this.getNoteById(s.id).pipe((0,v.U)(()=>s))))))}updateNote(e){let o={headers:this.getHttpHeaders()};null==!e.tasks&&e.tasks.forEach(a=>{if(null==a.id||""===a.id)return console.log("taskId is null.. return"),null}),console.log(JSON.stringify(e));const s=(0,at.Z)(e);return s.labels.length&&(s.labels=s.labels),this._httpClient.patch("http://localhost:8080/api/v1/apps/notes",{updatedNote:s},o).pipe((0,C.b)(a=>{console.log(a),this.getNotes().subscribe()}))}deleteNote(e){return this._httpClient.delete("http://localhost:8080/api/v1/apps/notes",{params:{id:e.id,username:btoa(localStorage.getItem("username")),accessToken:btoa(localStorage.getItem("accessToken"))}}).pipe((0,v.U)(o=>(this.getNotes().subscribe(),o)))}getHttpHeaders(){return(new st.WM).set("Content-Type","application/json").set("Cache-Control","no-cache").set("accessToken",btoa(localStorage.getItem("accessToken"))).set("username",btoa(localStorage.getItem("username")))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(st.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var w=c(3679);function Wt(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",6),t.TgZ(2,"div",7),t.TgZ(3,"button",8),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().ngIf;return t.oxw().removeImage(s)}),t._UZ(4,"mat-icon",9),t.qZA(),t.qZA(),t._UZ(5,"img",10),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().ngIf;t.xp6(4),t.Q6J("svgIcon","heroicons_outline:trash"),t.xp6(1),t.Q6J("src",e.image,t.LSH)}}const zt=function(n){return{"text-secondary line-through":n}};function Gt(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",17),t.TgZ(2,"mat-checkbox",18),t.NdJ("ngModelChange",function(s){return t.CHM(e).$implicit.completed=s})("change",function(){const a=t.CHM(e).$implicit,r=t.oxw(2).ngIf;return t.oxw().updateTaskOnNote(r,a)}),t.qZA(),t.TgZ(3,"input",19),t.NdJ("ngModelChange",function(s){return t.CHM(e).$implicit.content=s})("input",function(){const a=t.CHM(e).$implicit,r=t.oxw(2).ngIf;return t.oxw().updateTaskOnNote(r,a)}),t.qZA(),t.TgZ(4,"mat-icon",20),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2).ngIf;return t.oxw().removeTaskFromNote(r,a)}),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=i.$implicit;t.xp6(2),t.Q6J("color","primary")("ngModel",e.completed),t.xp6(1),t.Q6J("ngClass",t.VKq(6,zt,e.completed))("placeholder","Task")("ngModel",e.content),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:x")}}function Pt(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11),t.YNc(2,Gt,5,8,"ng-container",12),t.TgZ(3,"div",13),t._UZ(4,"mat-icon",14),t.TgZ(5,"input",15,16),t.NdJ("keydown.enter",function(){t.CHM(e);const s=t.MAs(6),a=t.oxw().ngIf;return t.oxw().addTaskToNote(a,s.value),s.value=""}),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().ngIf,o=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.tasks)("ngForTrackBy",o.trackByFn),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:plus"),t.xp6(1),t.Q6J("placeholder","Add task")}}function Xt(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",22),t.TgZ(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"mat-icon",23),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2).ngIf;return t.oxw().toggleLabelOnNote(r,a)}),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=i.$implicit;t.xp6(3),t.hij(" ",e.title," "),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:x-circle")}}function Kt(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",21),t.YNc(2,Xt,5,2,"ng-container",12),t.qZA(),t.BQk()),2&n){const e=t.oxw().ngIf,o=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.labels)("ngForTrackBy",o.trackByFn)}}function te(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",24),t.TgZ(2,"button",25),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().ngIf;return t.oxw().createNote(s)}),t._uU(3," Save "),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().ngIf;t.xp6(2),t.Q6J("color","primary")("disabled",!e.title&&!e.content)}}function ee(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",36),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(3).ngIf;return t.oxw().toggleLabelOnNote(r,a)}),t.TgZ(2,"span",13),t._UZ(3,"mat-checkbox",37),t.TgZ(4,"span",38),t._uU(5),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=i.$implicit,o=t.oxw(3).ngIf,s=t.oxw();t.xp6(3),t.Q6J("color","primary")("checked",s.isNoteHasLabel(o,e)),t.xp6(2),t.Oqu(e.title)}}function ne(n,i){if(1&n&&(t.ynx(0),t.YNc(1,ee,6,3,"ng-container",35),t.BQk()),2&n){const e=i.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function oe(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",26),t.TgZ(2,"div",27),t.TgZ(3,"div"),t.TgZ(4,"input",28,29),t.NdJ("change",function(){t.CHM(e);const s=t.MAs(5),a=t.oxw().ngIf;return t.oxw().uploadImage(a,s.files)}),t.qZA(),t.TgZ(6,"label",30),t._UZ(7,"mat-icon",31),t.qZA(),t.qZA(),t.TgZ(8,"button",8),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().ngIf;return t.oxw().addTasksToNote(s)}),t._UZ(9,"mat-icon",31),t.qZA(),t.TgZ(10,"button",32),t._UZ(11,"mat-icon",31),t.qZA(),t.TgZ(12,"mat-menu",null,33),t.YNc(14,ne,2,1,"ng-container",1),t.ALo(15,"async"),t.qZA(),t.TgZ(16,"button",8),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().ngIf;return t.oxw().toggleArchiveOnNote(s)}),t._UZ(17,"mat-icon",31),t.qZA(),t.TgZ(18,"button",8),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().ngIf;return t.oxw().deleteNote(s)}),t._UZ(19,"mat-icon",31),t.qZA(),t.qZA(),t.TgZ(20,"button",34),t._uU(21," Close "),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=t.MAs(13),o=t.oxw(2);t.xp6(4),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:photograph"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:clipboard-list"),t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:tag"),t.xp6(3),t.Q6J("ngIf",t.lcZ(15,9,o.labels$)),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:archive"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash")}}function ie(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,Wt,6,2,"ng-container",1),t.TgZ(2,"div",2),t.TgZ(3,"div"),t.TgZ(4,"input",3),t.NdJ("ngModelChange",function(s){return t.CHM(e).ngIf.title=s})("input",function(){const a=t.CHM(e).ngIf;return t.oxw().updateNoteDetails(a)}),t.qZA(),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"textarea",5),t.NdJ("ngModelChange",function(s){return t.CHM(e).ngIf.content=s})("input",function(){const a=t.CHM(e).ngIf;return t.oxw().updateNoteDetails(a)}),t.qZA(),t.qZA(),t.YNc(7,Pt,7,4,"ng-container",1),t.YNc(8,Kt,3,2,"ng-container",1),t.YNc(9,te,4,2,"ng-container",1),t.YNc(10,oe,22,11,"ng-container",1),t.qZA(),t.BQk()}if(2&n){const e=i.ngIf;t.xp6(1),t.Q6J("ngIf",e.image),t.xp6(3),t.Q6J("placeholder","Title")("ngModel",e.title),t.xp6(2),t.Q6J("placeholder","Note")("ngModel",e.content),t.xp6(1),t.Q6J("ngIf",e.tasks),t.xp6(1),t.Q6J("ngIf",e.labels&&e.labels.length),t.xp6(1),t.Q6J("ngIf",!e.id),t.xp6(1),t.Q6J("ngIf",e.id)}}let rt=(()=>{class n{constructor(e,o,s,a){this._changeDetectorRef=e,this._data=o,this._notesService=s,this._matDialogRef=a,this._labels=it.p,this._notes=it.$,this.noteChanged=new g.xQ,this._unsubscribeAll=new g.xQ}ngOnInit(){this._data.note.id?(this._notesService.getNoteById(this._data.note.id).subscribe(),this.note$=this._notesService.note$):this.note$=(0,ot.of)({id:null,title:"",content:"",tasks:null,image:null,labels:[],archived:!1,createdAt:null,updatedAt:null}),this.labels$=this._notesService.labels$,this.noteChanged.pipe((0,u.R)(this._unsubscribeAll),(0,O.b)(400),(0,b.w)(e=>this._notesService.updateNote(e))).subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}createNote(e){this._notesService.createNote(e).pipe((0,v.U)(()=>{this.note$=this._notesService.note$})).subscribe()}uploadImage(e,o){if(!o.length)return;const a=o[0];!["image/jpeg","image/png"].includes(a.type)||this._readAsDataURL(a).then(r=>{e.image=r,this.noteChanged.next(e)})}removeImage(e){e.image=null,this.noteChanged.next(e)}addTasksToNote(e){e.tasks||(e.tasks=[])}addTaskToNote(e,o){""!==o.trim()&&this._notesService.addTask(e,o).subscribe()}removeTaskFromNote(e,o){e.tasks=e.tasks.filter(s=>s.id!==o.id),this.noteChanged.next(e)}updateTaskOnNote(e,o){o.id&&this.noteChanged.next(e)}isNoteHasLabel(e,o){return!!e.labels.find(s=>s.id===o.id)}toggleLabelOnNote(e,o){console.log("toggleLabelOnNote"),this.isNoteHasLabel(e,o)?e.labels=e.labels.filter(s=>s.id!==o.id):e.labels.push(o),this.noteChanged.next(e)}toggleArchiveOnNote(e){e.archived=!e.archived,this.noteChanged.next(e),this._matDialogRef.close()}updateNoteDetails(e){this.noteChanged.next(e)}deleteNote(e){this._notesService.deleteNote(e).subscribe(o=>{!o||this._matDialogRef.close()})}trackByFn(e,o){return o.id||e}_readAsDataURL(e){return new Promise((o,s)=>{const a=new FileReader;a.onload=()=>{o(a.result)},a.onerror=r=>{s(r)},a.readAsDataURL(e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(T.WI),t.Y36(Y),t.Y36(T.so))},n.\u0275cmp=t.Xpm({type:n,selectors:[["notes-details"]],decls:3,vars:3,consts:[[1,"flex","flex-col","flex-auto","md:w-160","md:min-w-160","-m-6"],[4,"ngIf"],[1,"m-4"],[1,"w-full","p-2","text-2xl",3,"placeholder","ngModel","ngModelChange","input"],[1,"flex","w-full","py-5","px-2"],["matTextareaAutosize","",1,"w-full",3,"placeholder","ngModel","ngModelChange","input"],[1,"relative","w-full"],[1,"absolute","right-0","bottom-0","p-4"],["mat-icon-button","",3,"click"],[1,"text-white",3,"svgIcon"],[1,"w-full","object-cover",3,"src"],[1,"mx-2","mt-4","space-y-1.5"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center"],[1,"-ml-0.5","icon-size-5","text-hint",3,"svgIcon"],[1,"w-full","ml-1.5","px-1","py-0.5",3,"placeholder","keydown.enter"],["newTaskInput",""],[1,"group","flex","items-center"],[1,"flex","items-center",3,"color","ngModel","ngModelChange","change"],[1,"w-full","px-1","py-0.5",3,"ngClass","placeholder","ngModel","ngModelChange","input"],[1,"hidden","group-hover:flex","ml-auto","icon-size-5","cursor-pointer",3,"svgIcon","click"],[1,"flex","flex-wrap","items-center","mx-1","mt-6"],[1,"flex","items-center","m-1","py-0.5","px-3","rounded-full","text-sm","font-medium","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700"],[1,"ml-1","icon-size-4","cursor-pointer",3,"svgIcon","click"],[1,"flex","items-center","justify-end","mt-4"],["mat-flat-button","",3,"color","disabled","click"],[1,"flex","items-center","justify-between","mt-4"],[1,"flex","items-center","space-x-2"],["id","image-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["imageFileInput",""],["for","image-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-gray-400","hover:bg-opacity-20","dark:hover:bg-black","dark:hover:bg-opacity-5"],[3,"svgIcon"],["mat-icon-button","",3,"matMenuTriggerFor"],["labelsMenu","matMenu"],["mat-flat-button","","matDialogClose",""],[4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],["disableRipple","",1,"flex","items-center","pointer-events-none",3,"color","checked"],[1,"ml-1","leading-5"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,ie,11,9,"ng-container",1),t.ALo(2,"async"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,o.note$)))},directives:[d.O5,w.Fj,w.JJ,w.On,I.D7,A.lW,S.Hw,d.sg,j.oG,d.mk,k.wG,F.p6,F.VK,T.ZT,F.OP],pipes:[d.Ov],encapsulation:2,changeDetection:0}),n})();function se(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",13),t.TgZ(2,"button",14),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).deleteLabel(a.id)}),t._UZ(3,"mat-icon",9),t.qZA(),t.TgZ(4,"input",15),t.NdJ("ngModelChange",function(s){return t.CHM(e).$implicit.title=s})("input",function(){const a=t.CHM(e).$implicit;return t.oxw(2).updateLabel(a)}),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=i.$implicit;t.xp6(3),t.Q6J("svgIcon","heroicons_solid:trash"),t.xp6(1),t.Q6J("autocomplete","off")("ngModel",e.title)}}function ae(n,i){if(1&n&&(t.ynx(0),t.YNc(1,se,5,3,"ng-container",12),t.BQk()),2&n){const e=i.ngIf,o=t.oxw();t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",o.trackByFn)}}let re=(()=>{class n{constructor(e,o){this._changeDetectorRef=e,this._notesService=o,this.labelChanged=new g.xQ,this._unsubscribeAll=new g.xQ}ngOnInit(){this.labels$=this._notesService.labels$,this.labelChanged.pipe((0,u.R)(this._unsubscribeAll),(0,O.b)(500),(0,x.h)(e=>""!==e.title.trim()),(0,b.w)(e=>this._notesService.updateLabel(e))).subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}addLabel(e){this._notesService.addLabel(e).subscribe()}updateLabel(e){this.labelChanged.next(e)}deleteLabel(e){this._notesService.deleteLabel(e).subscribe(()=>{this._changeDetectorRef.markForCheck()})}trackByFn(e,o){return o.id||e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(Y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["notes-labels"]],decls:14,vars:10,consts:[[1,"flex","flex-col","flex-auto","w-80","min-w-80","p-2","md:p-4"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-semibold"],["matDialogClose","","mat-icon-button",""],[3,"svgIcon"],[1,"fuse-mat-dense","w-full","mt-8",3,"floatLabel"],["name","new-label","matInput","",3,"autocomplete","placeholder"],["newLabelInput",""],["mat-icon-button","","matSuffix","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"flex","flex-col","mt-4"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"fuse-mat-dense","w-full"],["mat-icon-button","","matPrefix","",3,"click"],["required","","matInput","",3,"autocomplete","ngModel","ngModelChange","input"]],template:function(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._uU(3,"Edit labels"),t.qZA(),t.TgZ(4,"button",3),t._UZ(5,"mat-icon",4),t.qZA(),t.qZA(),t.TgZ(6,"mat-form-field",5),t._UZ(7,"input",6,7),t.TgZ(9,"button",8),t.NdJ("click",function(){t.CHM(s);const r=t.MAs(8);return o.addLabel(r.value),r.value=""}),t._UZ(10,"mat-icon",9),t.qZA(),t.qZA(),t.TgZ(11,"div",10),t.YNc(12,ae,2,2,"ng-container",11),t.ALo(13,"async"),t.qZA(),t.qZA()}if(2&e){const s=t.MAs(8);t.xp6(5),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(1),t.Q6J("floatLabel","always"),t.xp6(1),t.Q6J("autocomplete","off")("placeholder","Create new label"),t.xp6(2),t.ekj("invisible",""===s.value.trim()),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:check-circle"),t.xp6(2),t.Q6J("ngIf",t.lcZ(13,8,o.labels$))}},directives:[A.lW,T.ZT,S.Hw,y.KE,I.Nt,y.R9,d.O5,d.sg,y.qo,w.Fj,w.Q7,w.JJ,w.On],pipes:[d.Ov],encapsulation:2,changeDetection:0}),n})();const $=function(n,i){return{"bg-gray-200 dark:bg-gray-700 text-primary dark:text-primary-400":n,"text-hint hover:bg-hover":i}};function ce(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",6),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).filterByLabel(a.id)}),t._UZ(2,"mat-icon",7),t.TgZ(3,"div",8),t._uU(4),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(4,$,"label:"+e.id===o.filterStatus,"label:"+e.id!==o.filterStatus))("matRippleDisabled","label:"+e.id===o.filterStatus),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:tag"),t.xp6(2),t.Oqu(e.title)}}function le(n,i){if(1&n&&(t.ynx(0),t.YNc(1,ce,5,7,"ng-container",29),t.BQk()),2&n){const e=i.ngIf,o=t.oxw();t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",o.trackByFn)}}function de(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"img",35),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.image,t.LSH)}}function _e(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",36),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.title," ")}}function pe(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.ekj("text-xl",e.content.length<70),t.xp6(1),t.hij(" ",e.content," ")}}function ge(n,i){1&n&&(t.ynx(0),t.TgZ(1,"div",39),t._UZ(2,"div",40),t.qZA(),t.BQk())}function ue(n,i){1&n&&(t.ynx(0),t._UZ(1,"mat-icon",41),t.BQk()),2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:check-circle"))}const me=function(n){return{"text-secondary line-through":n}};function he(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",15),t.YNc(2,ge,3,0,"ng-container",9),t.YNc(3,ue,2,1,"ng-container",9),t.TgZ(4,"div",38),t._uU(5),t.qZA(),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngIf",!e.completed),t.xp6(1),t.Q6J("ngIf",e.completed),t.xp6(1),t.Q6J("ngClass",t.VKq(4,me,e.completed)),t.xp6(1),t.hij(" ",e.content," ")}}function fe(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",37),t.YNc(2,he,6,6,"ng-container",29),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit,o=t.oxw(5);t.xp6(2),t.Q6J("ngForOf",e.tasks)("ngForTrackBy",o.trackByFn)}}function xe(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",43),t._uU(2),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",e.title," ")}}function ve(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",42),t.YNc(2,xe,3,1,"ng-container",29),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit,o=t.oxw(5);t.xp6(2),t.Q6J("ngForOf",e.labels)("ngForTrackBy",o.trackByFn)}}function be(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",33),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(5).openNoteDialog(a)}),t.YNc(2,de,2,1,"ng-container",9),t.TgZ(3,"div",34),t.YNc(4,_e,3,1,"ng-container",9),t.YNc(5,pe,3,3,"ng-container",9),t.YNc(6,fe,3,2,"ng-container",9),t.YNc(7,ve,3,2,"ng-container",9),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngIf",e.image),t.xp6(2),t.Q6J("ngIf",e.title),t.xp6(1),t.Q6J("ngIf",e.content),t.xp6(1),t.Q6J("ngIf",e.tasks),t.xp6(1),t.Q6J("ngIf",e.labels)}}function Ce(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",32),t.YNc(2,be,8,5,"ng-container",29),t.qZA(),t.BQk()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(2),t.Q6J("ngForOf",e.items)("ngForTrackBy",o.trackByFn)}}function we(n,i){if(1&n&&t.YNc(0,Ce,3,2,"ng-container",29),2&n){const e=i.$implicit,o=t.oxw(3);t.Q6J("ngForOf",e)("ngForTrackBy",o.trackByFn)}}function Te(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"fuse-masonry",30),t.YNc(2,we,1,2,"ng-template",null,31,t.W1O),t.qZA(),t.BQk()),2&n){const e=t.MAs(3),o=t.oxw().ngIf,s=t.oxw();t.xp6(1),t.Q6J("items",o)("columns",s.masonryColumns)("columnsTemplate",e)}}function ye(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Te,4,3,"ng-container",26),t.BQk()),2&n){const e=i.ngIf;t.oxw();const o=t.MAs(39);t.xp6(1),t.Q6J("ngIf",e.length)("ngIfElse",o)}}function ke(n,i){1&n&&(t.TgZ(0,"div",44),t.TgZ(1,"div",45),t._uU(2,"Loading..."),t.qZA(),t.qZA())}function Ze(n,i){1&n&&(t.TgZ(0,"div",44),t._UZ(1,"mat-icon",46),t.TgZ(2,"div",45),t._uU(3,"There are no notes!"),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("svgIcon","iconsmind:file_hide"))}const Me=[{path:"",component:Qt,children:[{path:"",component:(()=>{class n{constructor(e,o,s,a){this._changeDetectorRef=e,this._fuseMediaWatcherService=o,this._matDialog=s,this._notesService=a,this.drawerMode="side",this.drawerOpened=!0,this.filter$=new M.X("notes"),this.searchQuery$=new M.X(null),this.masonryColumns=4,this._unsubscribeAll=new g.xQ}get filterStatus(){return this.filter$.value}ngOnInit(){this._notesService.getLabels().subscribe(),this._notesService.getNotes().subscribe(),this.labels$=this._notesService.labels$,this.notes$=(0,Jt.aj)([this._notesService.notes$,this.filter$,this.searchQuery$]).pipe((0,G.x)(),(0,v.U)(([e,o,s])=>{if(!e||!e.length)return;let a=e;s&&(s=s.trim().toLowerCase(),a=a.filter(p=>p.title.toLowerCase().includes(s)||p.content.toLowerCase().includes(s)));const r="archived"===o;if(a=a.filter(p=>p.archived===r),o.startsWith("label:")){const p=o.split(":")[1];a=a.filter(N=>!!N.labels.find(l=>l.id===p))}return a})),this._fuseMediaWatcherService.onMediaChange$.pipe((0,u.R)(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this.masonryColumns=e.includes("xl")?5:e.includes("lg")?4:e.includes("md")?3:e.includes("sm")?2:1,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}addNewNote(){this._matDialog.open(rt,{autoFocus:!1,data:{note:{}}})}openEditLabelsDialog(){this._matDialog.open(re,{autoFocus:!1})}openNoteDialog(e){this._matDialog.open(rt,{autoFocus:!1,data:{note:(0,at.Z)(e)}})}filterByArchived(){this.filter$.next("archived")}filterByLabel(e){this.filter$.next(`label:${e}`)}filterByQuery(e){this.searchQuery$.next(e)}resetFilter(){this.filter$.next("notes")}trackByFn(e,o){return o.id||e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(nt.T),t.Y36(T.uw),t.Y36(Y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["notes-list"]],decls:40,vars:28,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent"],[1,"w-2/3","sm:w-72","lg:w-56","border-r-0","bg-default",3,"mode","opened"],["drawer",""],[1,"p-6","lg:py-8","lg:pl-4","lg:pr-0"],[1,"space-y-2"],["matRipple","",1,"relative","flex","items-center","py-2","px-4","font-medium","rounded-full","cursor-pointer",3,"ngClass","matRippleDisabled","click"],[1,"text-current",3,"svgIcon"],[1,"ml-3","leading-5","select-none","text-default"],[4,"ngIf"],["matRipple","",1,"relative","flex","items-center","py-2","px-4","font-medium","rounded-full","cursor-pointer","hover:bg-hover",3,"click"],[1,"text-hint",3,"svgIcon"],[1,"ml-3","leading-5","select-none"],[1,"flex","flex-col","bg-gray-100","dark:bg-transparent"],[1,"flex","flex-col","flex-auto","p-6","md:p-8"],[1,"flex","items-center"],[1,"flex","items-center","flex-auto"],["mat-icon-button","",1,"flex","lg:hidden","-ml-2",3,"click"],[3,"svgIcon"],[1,"fuse-mat-rounded","fuse-mat-dense","fuse-mat-no-subscript","flex-auto","ml-4","lg:ml-0"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder","input"],["searchInput",""],["mat-flat-button","",1,"ml-4","px-1","sm:px-4","min-w-10",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],[1,"hidden","sm:inline-block","ml-2"],[4,"ngIf","ngIfElse"],["loading",""],["noNotes",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"-mx-2","mt-8",3,"items","columns","columnsTemplate"],["columnsTemplate",""],[1,"flex-1","px-2","space-y-4"],[1,"flex","flex-col","shadow","rounded-2xl","overflow-hidden","cursor-pointer","bg-card",3,"click"],[1,"flex","flex-auto","flex-col","p-6","space-y-4"],[1,"w-full","object-cover",3,"src"],[1,"font-semibold","line-clamp-3"],[1,"space-y-1.5"],[1,"ml-1.5","leading-5",3,"ngClass"],[1,"flex","items-center","justify-center","w-5","h-5"],[1,"w-4","h-4","rounded-full","border-2"],[1,"text-hint","icon-size-5",3,"svgIcon"],[1,"flex","flex-wrap","items-center","-m-1"],[1,"m-1","py-0.5","px-3","rounded-full","text-sm","font-medium","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-secondary"],[1,"icon-size-24",3,"svgIcon"]],template:function(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"mat-drawer-container",1),t.TgZ(2,"mat-drawer",2,3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.NdJ("click",function(){return o.resetFilter()}),t._UZ(7,"mat-icon",7),t.TgZ(8,"div",8),t._uU(9,"Notes"),t.qZA(),t.qZA(),t.TgZ(10,"div",6),t.NdJ("click",function(){return o.filterByArchived()}),t._UZ(11,"mat-icon",7),t.TgZ(12,"div",8),t._uU(13,"Archive"),t.qZA(),t.qZA(),t.YNc(14,le,2,2,"ng-container",9),t.ALo(15,"async"),t.TgZ(16,"div",10),t.NdJ("click",function(){return o.openEditLabelsDialog()}),t._UZ(17,"mat-icon",11),t.TgZ(18,"div",12),t._uU(19,"Edit labels"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"mat-drawer-content",13),t.TgZ(21,"div",14),t.TgZ(22,"div",15),t.TgZ(23,"div",16),t.TgZ(24,"button",17),t.NdJ("click",function(){return t.CHM(s),t.MAs(3).toggle()}),t._UZ(25,"mat-icon",18),t.qZA(),t.TgZ(26,"mat-form-field",19),t._UZ(27,"mat-icon",20),t.TgZ(28,"input",21,22),t.NdJ("input",function(){t.CHM(s);const r=t.MAs(29);return o.filterByQuery(r.value)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"button",23),t.NdJ("click",function(){return o.addNewNote()}),t._UZ(31,"mat-icon",24),t.TgZ(32,"span",25),t._uU(33,"New note"),t.qZA(),t.qZA(),t.qZA(),t.YNc(34,ye,2,2,"ng-container",26),t.ALo(35,"async"),t.YNc(36,ke,3,0,"ng-template",null,27,t.W1O),t.YNc(38,Ze,4,1,"ng-template",null,28,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const s=t.MAs(37);t.xp6(2),t.Q6J("mode",o.drawerMode)("opened",o.drawerOpened),t.xp6(4),t.Q6J("ngClass",t.WLB(22,$,"notes"===o.filterStatus,"notes"!==o.filterStatus))("matRippleDisabled","notes"===o.filterStatus),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:pencil-alt"),t.xp6(3),t.Q6J("ngClass",t.WLB(25,$,"archived"===o.filterStatus,"archived"!==o.filterStatus))("matRippleDisabled","archived"===o.filterStatus),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:archive"),t.xp6(3),t.Q6J("ngIf",t.lcZ(15,18,o.labels$)),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:pencil"),t.xp6(8),t.Q6J("svgIcon","heroicons_outline:menu"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("autocomplete","off")("placeholder","Search notes"),t.xp6(2),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:plus-circle"),t.xp6(3),t.Q6J("ngIf",t.lcZ(35,20,o.notes$))("ngIfElse",s)}},directives:[H,R,k.wG,d.mk,S.Hw,d.O5,Z,A.lW,y.KE,y.qo,I.Nt,d.sg,It],pipes:[d.Ov],encapsulation:2,changeDetection:0}),n})()}]}];let Ne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[q.Bz.forChild(Me),A.ot,j.p9,T.Is,y.lN,S.Ps,I.c,F.Tx,k.si,Nt,Ft,Bt.m]]}),n})()}}]);